@* general repo info, basically what already exists on the repos.razor page *@
@* Repo name, owner, description, language, active status (from health check) *@
@namespace CommandCentre.Components.Repo

@using CommandCentre.Models

@if (selectedRepo != null)
{
    <Markup Content="Repository Details:" Decoration="@Decoration.Bold" />
    <Newline />

    @* Causing render issues, just on Windows it seems *@
    <Panel Title="@($"ℹ️ {selectedRepo.Name}")" BorderColor="@Color.Cyan">
        <Rows>
            <Markup Content="@($"Owner: {selectedRepo.Owner}")" Foreground="@Color.Grey70" />
            <Markup Content="@($"Description: {selectedRepo.Description}")" Foreground="@Color.Grey70" />
            <Markup Content="@($"Language: {selectedRepo.Language}")" Foreground="@Color.Grey70" />
            <Markup Content="@($"Active: {GetActiveStatusMarkup(selectedRepo.IsActive)}")" />
            <Markup Content="@($"Path: {selectedRepo.Path}")" Foreground="@Color.Grey70" />
            <Markup Content="@($"Type: {selectedRepo.Type}")" Foreground="@Color.Grey70" />
        </Rows>
    </Panel>
}

@code {
    [Parameter]
    public Repo selectedRepo { get; set; }

    private string GetActiveStatusMarkup(bool isActive)
    {
        return isActive ? "✅" : "❌";
    }
}